<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb m-3">
        <li class="breadcrumb-item"><a [routerLink]="['/home']" routerLinkActive="router-link-active" >Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Planung</li>
    </ol>
</nav>

<div 
    class="card" 
    style="
        height: 100px; 
        background-image: url('https://media.istockphoto.com/id/1196537532/de/foto/verblassende-berglandschaft-des-himalaya.jpg?s=1024x1024&w=is&k=20&c=FTR2sESV8Sg6_jvZnztNTbjniOQODK_BK5NP1scxqCY=');
        background-repeat: no-repeat;
        background-size: cover;">
    <div class="p-3">
        <h2 style="cursor: pointer;" (click)="isCollapsed = !isCollapsed">{{tourData.name}}</h2>
        <h5>{{tourData.from}} bis {{tourData.to}}</h5>
        
    </div>
</div>

<!-- TOUR DETAILS -->
<div class="row">
    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
        <div class="card mt-2">
            <div class="card-body">
                <h4>Tour Details <span (click)="open(content)">(Zeige Fressie Timeline)</span></h4>
                <div class="row">
                    <div class="col-6">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <th scope="row">Anreise:</th>
                                    <td>
                                        <div class="row">
                                            <div class="col-3">
                                                {{tourData.from}}
                                            </div>
                                            <div class="col-6">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                                                    <label class="form-check-label" for="flexCheckChecked">
                                                        Anreise abends
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">Abreise:</th>
                                    <td>
                                        <div class="row">
                                            <div class="col-3">
                                                {{tourData.from}}
                                            </div>
                                            <div class="col-6">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                                                    <label class="form-check-label" for="flexCheckChecked">
                                                        Abreise morgends
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-6">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <th scope="row">Anzahl Frühstück:</th>
                                    <td>{{tourData.from}}</td>
                                </tr>
                                <tr>
                                    <th scope="row">Anzahl Abendessen:</th>
                                    <td>{{tourData.to}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row">
    <!-- PARTICIPANTS -->
    <div class="col-6">
        <div class="card mt-2">
            <h4 class="p-3">Teilnehmer</h4>
            <div class="mx-2 mb-2">
                @for (participant of participants; track participant) {
                    <div ngbAccordion>
                        <div ngbAccordionItem [collapsed]="true">
                            <h2 ngbAccordionHeader>
                                <button ngbAccordionButton>{{participant}}</button>
                            </h2>
                            <div ngbAccordionCollapse>
                                <div ngbAccordionBody>
                                    <ng-template>
                                        Anreise: {{tourData.from}} 
                                        Abreise: {{tourData.to}}
                                        
                                    </ng-template>
                                </div>
                            </div>
                        </div>        
                    </div>
                } @empty {
                    <button type="button" class="list-group-item list-group-item-action"> Bisher keine Teilnehmer </button>
                }
            </div>
        </div>
        
    </div>
    <!-- THINGS -->
    <div class="col-6">
        <div class="card mt-2">
        <h4 class="p-3">Mitbringsel</h4>
            <div class="mx-2">
                <table class="table">
                    <tbody class="border">
                        @for (thing of things; track thing) {
                        <tr>
                            <td style="height: 54px">
                                <div class="row">
                                    <div class="col-6 ">
                                        {{thing}}
                                    </div>
                                    <div class="col-6">
                                        <select class="form-select" aria-label="Default select example">
                                            <option>Nicht zugewiesen</option>
                                            @for (participant of participants; track participant){
                                                <option>{{participant}}</option>
                                            }
                                        </select>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- OFFCANVAS MEALS -->
<ng-template #content let-offcanvas>
	<div class="offcanvas-header">
		<h4 class="offcanvas-title" id="offcanvas-basic-title">Mahzeilten Übersicht</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="offcanvas.dismiss('Cross click')"></button>
	</div>
    @for (meal of meals; track meal; let i = $index;) {
        <!-- <div class="offcanvas-body">
            
                
            
            
            <div class="text-end">
                <button type="button" class="btn btn-outline-dark" (click)="offcanvas.close('Save click')">Save</button>
            </div>
        </div> -->
        <div class="m-2">
            <div 
            class="card" 
            style="
                height: 35px; 
                background-image: url({{breakfastImage}});
                background-repeat: no-repeat;
                background-size: cover;
                color: white;"
            >
            <div>
                <span style="cursor: pointer;" (click)="isCollapsed = !isCollapsed">{{meal.type}}</span>
            </div>
        </div>
        <div>
            <select class="form-select" aria-label="Default select example">
                <option>Nicht zugewiesen</option>
                @for (participant of participants; track participant){
                    <option>{{participant}}</option>
                }
            </select>
        </div>
        </div>
        
    }

	
</ng-template>

<hr />

<pre>{{ closeResult }}</pre>







