<i [class]="symbol" style="cursor: pointer;"></i>

<ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Neuer Gegenstand</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
        <form [formGroup]="thingForm">
			<div class="mb-3">
                <!-- CATEGORY -->
                @if (data.relevantColumns.category) {
                    <select class="form-select mb-3" style="height: 55px" formControlName="category">
                        <option value="food">Nahungsmittel</option>
                        <option value="consumables">Verbrauchsmaterial</option>
                        <option value="items">Gegenstände</option>
                    </select>
                }
                <!-- NAME -->
                @if (data.relevantColumns.name) {
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="floatingInput" placeholder="Name" formControlName="name">
                        <label for="floatingInput">Name</label>
                    </div>
                }
                <!-- UNIT -->
                @if (data.relevantColumns.unit) {
                    <div class="mb-3">
                        <app-unit-picker 
                            (unitOutput)="thingForm.controls['unit'].setValue($event); setWeight()" 
                            [unitInput]="thingForm.controls['unit'].value!">
                        </app-unit-picker>
                    </div>
                }
                <!-- PERPERSON -->
                @if (data.relevantColumns.perPerson) {
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="floatingInput" placeholder="Name" formControlName="perPerson" (change)="setWeight()">
                        <label for="floatingInput">Pro Kopf pro Tag</label>
                    </div>
                }

                <!-- WEIGHT --> 
                @if (data.relevantColumns.weight) {
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" formControlName="weight">
                        <label for="floatingInput">Gewicht in kg</label>
                    </div>
                }
			</div>
		</form>
	</div>
	<div class="modal-footer">
		@if(selectedThingID == -1){<button type="button" class="btn btn-outline-dark" (click)="newThing(); modal.close(); initializeModal()" [disabled]="thingForm.invalid">Speichern</button>}
        @if(selectedThingID != -1){<button type="button" class="btn btn-outline-dark" (click)="editThing(); modal.close(); initializeModal()" [disabled]="thingForm.invalid">Ändern</button>}
	</div>
</ng-template>